{"version":3,"file":"static/js/349.23a80b8a.chunk.js","mappings":"kKAAO,IAAMA,EAAkB,oBAClBC,EAAmB,oB,qLCgB1BC,EAAe,CACjBC,OAAOC,EAAAA,EAAAA,IAAuB,GAC9BC,WAAWD,EAAAA,EAAAA,IAAuB,GAClCE,KAAM,GACNC,MAAO,GACPC,KAAM,GACNC,SAAU,GACVC,SAAU,ICtBd,ED8B8C,SAAH,GAA6B,IAAvBC,EAAK,EAALA,MAAOC,EAAQ,EAARA,SAC9CC,GAAiBC,EAAAA,EAAAA,KAAiBC,EAAAA,EAAAA,OAClCC,GAAUF,EAAAA,EAAAA,KAAiBG,EAAAA,EAAAA,OAC3BC,EACFC,EAAAA,GAAAA,mBAAyCnB,EAAAA,IAC7C,GAAwCoB,EAAAA,EAAAA,IACnCF,GAAchB,GACf,EACA,CAAC,GAHGmB,EAAI,EAAJA,KAAMC,EAAY,EAAZA,aAAcC,EAAO,EAAPA,SAM5BC,EAAAA,EAAAA,YAAU,YACqBX,GAGvBD,EAASS,EAAML,EAEvB,GAAG,CAACK,EAAMR,IAMV,OACI,SAAC,KAAgB,CACbQ,KAAMA,EACNV,MAAOA,EACPc,SAAUH,EACVI,YATmB,WACvBH,EAAQrB,EACZ,GAUJ,EE7DA,ECU2B,WACvB,IAAMc,GAAUF,EAAAA,EAAAA,KAAiBa,EAAAA,EAAAA,OAC3BC,GAAcd,EAAAA,EAAAA,KAAiBe,EAAAA,EAAAA,OACrC,GAAwCC,EAAAA,EAAAA,IACpCd,GAAW,GACXY,GAAe,GACf5B,EAAAA,IAHI+B,EAAY,EAAZA,aAAcC,EAAa,EAAbA,cAKhBC,GAAWC,EAAAA,EAAAA,MAMjB,OAJAV,EAAAA,EAAAA,YAAU,WACNS,GAASE,EAAAA,EAAAA,MACb,GAAG,KAGC,oBAASC,UAAU,gCAA+B,UAC9C,gBAAKA,UAAU,oCAAmC,UAC9C,iBAAKA,UAAU,oBAAmB,WAC9B,iBAAKA,UAAU,qBAAoB,UAAC,wEACT,0BAAM,8FAEjC,SAAC,EAAU,CACPzB,MAAOqB,EAAcK,OACrBzB,SAAUmB,UAMlC,EC7BA,EARuB,WACnB,OACI,SAACO,EAAA,EAAO,WACJ,SAAC,EAAQ,KAGrB,C","sources":["app/constants/sessionStorageConfig.ts","app/components/pages/HomePage/HomeFilter/HomeFilter.tsx","app/components/pages/HomePage/HomeFilter/index.ts","app/components/pages/HomePage/index.ts","app/components/pages/HomePage/HomePage.tsx","app/layouts/main.tsx"],"sourcesContent":["export const USER_FILTER_KEY = \"user-filters-data\";\r\nexport const ADMIN_FILTER_KEY = \"admin-filters-data\";\r\n\r\nexport default {\r\n    USER_FILTER_KEY,\r\n    ADMIN_FILTER_KEY\r\n};\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Tab, TabList, TabPanel, Tabs } from \"react-tabs\";\r\nimport tabsList from \"../../../../config/tabs-config.json\";\r\nimport { USER_FILTER_KEY } from \"../../../../constants/sessionStorageConfig\";\r\nimport { useForm } from \"../../../../hooks\";\r\nimport sessionStorageService from \"../../../../services/sessionStorage.service\";\r\nimport { useStateSelector } from \"../../../../store\";\r\nimport { getBookingLoading } from \"../../../../store/slices/booking\";\r\nimport {\r\n    EstateItem,\r\n    getEstatesList,\r\n    getEstatesLoadingStatus\r\n} from \"../../../../store/slices/estates\";\r\nimport { BookingDateType } from \"../../../../types/types\";\r\nimport { getPresenceBookingDate } from \"../../../../utils/dateHelpers\";\r\nimport { SearchEstateForm } from \"../../../ui/Forms\";\r\n\r\nconst initialState = {\r\n    entry: getPresenceBookingDate(1),\r\n    departure: getPresenceBookingDate(2),\r\n    city: \"\",\r\n    brand: \"\",\r\n    type: \"\",\r\n    priceMax: \"\",\r\n    priceMin: \"\"\r\n};\r\n\r\ntype HomeFilterProps = {\r\n    count: number;\r\n    onFilter: (data: BookingDateType, items: EstateItem[]) => void;\r\n};\r\n\r\nconst HomeFilter: React.FC<HomeFilterProps> = ({ count, onFilter }) => {\r\n    const bookingLoading = useStateSelector(getBookingLoading());\r\n    const estates = useStateSelector(getEstatesList());\r\n    const storageData =\r\n        sessionStorageService.fromSessionStorage(USER_FILTER_KEY);\r\n    const { data, handleChange, setData } = useForm(\r\n        !storageData ? initialState : storageData,\r\n        false,\r\n        {}\r\n    );\r\n\r\n    useEffect(() => {\r\n        const isAvaibleToFilter = !bookingLoading;\r\n\r\n        if (isAvaibleToFilter) {\r\n            onFilter(data, estates);\r\n        }\r\n    }, [data, bookingLoading]);\r\n\r\n    const handleResetFilters = () => {\r\n        setData(initialState);\r\n    };\r\n\r\n    return (\r\n        <SearchEstateForm\r\n            data={data}\r\n            count={count}\r\n            onChange={handleChange}\r\n            handleReset={handleResetFilters}\r\n        />\r\n    );\r\n};\r\n\r\nexport default HomeFilter;\r\n","import HomeFilter from \"./HomeFilter\";\r\n\r\nexport default HomeFilter;\r\n","import HomePage from \"./HomePage\";\r\n\r\nexport default HomePage;\r\n","import React, { useEffect } from \"react\";\r\nimport { USER_FILTER_KEY } from \"../../../constants/sessionStorageConfig\";\r\nimport { useFilters } from \"../../../hooks\";\r\nimport { useAppDispatch, useStateSelector } from \"../../../store\";\r\nimport { getBookingList } from \"../../../store/slices/booking\";\r\nimport {\r\n    getEstatesLoadingStatus,\r\n    getFilteredEstates,\r\n    loadFilteredEstatesList\r\n} from \"../../../store/slices/estates\";\r\nimport HomeFilter from \"./HomeFilter\";\r\n\r\nconst HomePage: React.FC = () => {\r\n    const estates = useStateSelector(getFilteredEstates());\r\n    const bookingList = useStateSelector(getBookingList());\r\n    const { handleFilter, filteredItems } = useFilters(\r\n        estates || [],\r\n        bookingList || [],\r\n        USER_FILTER_KEY\r\n    );\r\n    const dispatch = useAppDispatch();\r\n\r\n    useEffect(() => {\r\n        dispatch(loadFilteredEstatesList());\r\n    }, []);\r\n\r\n    return (\r\n        <section className=\"page__main-search main-search\">\r\n            <div className=\"main-search__container _container\">\r\n                <div className=\"main-search__body\">\r\n                    <div className=\"main-search__title\">\r\n                        Sdaem.by - у нас живут <span>ваши объявления</span>\r\n                    </div>\r\n                    <HomeFilter\r\n                        count={filteredItems.length}\r\n                        onFilter={handleFilter}\r\n                    />\r\n                </div>\r\n            </div>\r\n        </section>\r\n    );\r\n};\r\n\r\nexport default HomePage;\r\n","import React from \"react\";\r\nimport Wrapper from \"../components/common/Wrapper\";\r\nimport HomePage from \"../components/pages/HomePage\";\r\n\r\nconst Main: React.FC = () => {\r\n    return (\r\n        <Wrapper>\r\n            <HomePage />\r\n        </Wrapper>\r\n    );\r\n};\r\n\r\nexport default Main;\r\n"],"names":["USER_FILTER_KEY","ADMIN_FILTER_KEY","initialState","entry","getPresenceBookingDate","departure","city","brand","type","priceMax","priceMin","count","onFilter","bookingLoading","useStateSelector","getBookingLoading","estates","getEstatesList","storageData","sessionStorageService","useForm","data","handleChange","setData","useEffect","onChange","handleReset","getFilteredEstates","bookingList","getBookingList","useFilters","handleFilter","filteredItems","dispatch","useAppDispatch","loadFilteredEstatesList","className","length","Wrapper"],"sourceRoot":""}