"use strict";(self.webpackChunksdaem_by=self.webpackChunksdaem_by||[]).push([[529],{2914:function(e,n,t){t.d(n,{Z:function(){return s}});t(2791);var a=t(184),s=function(e){var n=e.children,t=e.className;return(0,a.jsx)("section",{className:t,children:(0,a.jsx)("div",{className:t+"__container _container",children:n})})}},1529:function(e,n,t){t.r(n),t.d(n,{default:function(){return H}});var a=t(2791),s=t(7689),r=t(3884),i=t(2914),c=t(2910),l=t(5957),d=t(7162),o=t(7033),m=t(1413),u=t(9439),h=t(4925),x=t(1809),j=t(184),p=["options"],f=function(e){var n=e.options,t=(0,h.Z)(e,p),s=(0,a.useState)(0),r=(0,u.Z)(s,2),i=r[0],c=r[1];return(0,j.jsxs)(x.mQ,{selectedIndex:i,onSelect:function(e){c(e)},children:[(0,j.jsx)("div",{className:"tabs-header",children:(0,j.jsx)(x.td,{className:"tab-list",children:n.map((function(e){return(0,j.jsx)(x.OK,{className:"tab-list__item second ".concat(e._id===i?"selected":""),children:e.name},e.name)}))})}),n.map((function(e,n){return(0,j.jsx)("div",(0,m.Z)((0,m.Z)({role:"tabpanel",hidden:i!==n},t),{},{children:(0,j.jsx)(x.x4,{className:"tab-list__panel",children:e.component},e.name)}),e.name)}))]})},_=t(1087),g=t(8254),v=t(57),b=t(4282),N=t(5110),k=t(763),C=t.n(k),y=function(e){var n=e.data,t=e.columns,a=function(e,n){return t[n].component?(0,t[n].component)(e):C().get(e,t[n].path)};return(0,j.jsx)("tbody",{className:"table-body",children:n.map((function(e){return(0,j.jsx)("tr",{className:"table-body__item",children:Object.keys(t).map((function(n){return(0,j.jsx)("td",{children:a(e,n)},n)}))},e._id)}))})},Z=t(718),J=t(4289),E=function(e){var n=e.handleLimitChange,t=e.page,a=e.limit,s=e.handlePageChange,r=e.data;return(0,j.jsxs)("tbody",{className:"table-footer",children:[(0,j.jsx)("tr",{className:"table-footer__item",children:(0,j.jsxs)("td",{children:["\u041e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0442\u044c \u043f\u043e:"," ",(0,j.jsx)("select",{name:"page-size",onChange:n,className:"table-footer__select",children:Z.QW.map((function(e){return(0,j.jsx)("option",{value:e.value,defaultValue:"3",children:e.name},e.value)}))})]})}),(0,j.jsx)("tr",{className:"table-footer__item",children:(0,j.jsx)("td",{children:(0,j.jsx)(J.Z,{currentPage:t,itemsCount:r.length,onPageChange:s,pageSize:a})})})]})},P=function(e){var n=e.columns;return(0,j.jsx)("thead",{className:"table-header",children:(0,j.jsx)("tr",{className:"table-header__item",children:Object.keys(n).map((function(e){return(0,j.jsx)("th",{role:n[e].path&&"button",scope:"col",children:n[e].name},e)}))})})},F=function(e){var n=e.children,t=e.data,s=e.columns,r=(0,g.ui)(t,3,1),i=r.itemsListCrop,c=r.handlePageChange,l=r.page,d=r.limit,o=r.handleLimitChange;return(0,a.useEffect)((function(){0===i.length&&c(0)}),[i]),(0,j.jsx)("table",{className:"table",children:n||(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(P,{columns:s}),(0,j.jsx)(y,{data:i,columns:s}),(0,j.jsx)(E,{data:t,handleLimitChange:o,page:l,limit:d,handlePageChange:c})]})})},L=function(){var e=(0,l.TL)(),n=(0,l.Js)((0,v.Fp)()),t=(0,l.Js)((0,v.rc)()),a=(0,g.ZO)(n,{path:"name",order:"desc"}),s=a.sortBy,r=a.setSortBy,i=a.sortedItems;if(n){var c={name:{name:"\u0418\u043c\u044f",path:"name",component:function(e){return(0,j.jsx)(_.OL,{to:"/users/".concat(e._id),children:e.name})}},email:{name:"Email",path:"email"},role:{name:"\u0420\u043e\u043b\u044c",path:"role",component:function(e){return(0,j.jsx)(j.Fragment,{children:"ADMIN"===e.role?"\u0410\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440":"\u041f\u043e\u0441\u0435\u0442\u0438\u0442\u0435\u043b\u044c"})}},productsCount:{name:"\u0422\u043e\u0432\u0430\u0440\u043e\u0432 \u0437\u0430\u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e",component:function(n){return"".concat(e((0,d._E)(n._id)))}},createdAt:{name:"\u0410\u043a\u043a\u0430\u0443\u043d\u0442 \u0441\u043e\u0437\u0434\u0430\u043d:",component:function(e){return(0,j.jsx)("span",{children:(0,b.q8)(e.createdAt)})}},delete:{component:function(n){return(0,j.jsx)(j.Fragment,{children:n._id!==t&&(0,j.jsx)(N.Z,{onClick:function(){return e((0,v.h8)(n._id))},children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})})}}};if(i)return(0,j.jsx)(F,{selectedSort:s,columns:c,data:i,onSort:r})}return(0,j.jsx)("h1",{children:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439 \u043f\u043e\u043a\u0430 \u043d\u0435\u0442"})},T=t(304),w=t(4166),D=t(5381),S=function(e){var n=e.ticket,t=(0,l.TL)(),a=(0,g.Rh)(),s=a.open,r=a.handleClickOpen,i=a.handleClose;return(0,j.jsxs)("div",{children:[(0,j.jsxs)("div",{className:"admin__ticket-block",children:[(0,j.jsx)("span",{className:"admin__ticket-created",children:(0,b.q8)(n.created_at)}),(0,j.jsx)("p",{className:"admin__ticket-text",children:n.name}),(0,j.jsx)("p",{className:"admin__ticket-text",children:n.email}),(0,j.jsx)(N.Z,{className:"admin__ticket-button",onClick:"pending"===n.status?function(){return t((0,T.hE)((0,m.Z)((0,m.Z)({},n),{},{status:"confirmed"}))),void r()}:function(){return r()},children:"pending"===n.status?"\u041f\u0440\u0438\u043d\u044f\u0442\u044c \u0442\u0438\u043a\u0435\u0442":"\u041d\u0430 \u0440\u0430\u0441\u0441\u043c\u043e\u0442\u0440\u0435\u043d\u0438\u0438"})]}),(0,j.jsx)(D.dY,{open:s,onClose:i,ticket:n,onRemoveTicket:function(e){t((0,T.rV)(e))}})]})},q=function(){var e=(0,l.TL)(),n=(0,l.Js)((0,T.SP)()),t=(0,l.Js)((0,T.Tm)());return(0,a.useEffect)((function(){e((0,T.it)())}),[]),(0,j.jsx)("ul",{className:"admin__ticket-list",children:t?(0,j.jsx)("div",{className:"admin__ticket-loader",children:(0,j.jsx)(w.Z,{})}):n.length>0?n.map((function(e){return(0,j.jsx)("li",{className:"admin__ticket-item",children:(0,j.jsx)(S,{ticket:e})},e._id)})):(0,j.jsx)("p",{className:"booking__error-message",children:"\u0421\u043f\u0438\u0441\u043e\u043a \u0442\u0438\u043a\u0435\u0442\u043e\u0432 \u043f\u0443\u0441\u0442"})})},I=t(3240),O=t(5928),A=t(7304),Q={entry:{isRequired:{message:"Email \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u0435\u043d \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f"}},departure:{isRequired:{message:"Email \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u0435\u043d \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f"}}},R=function(e){var n=e.estates,t=e.onFilterQuery,s=(0,g.cI)({entry:(0,b.tl)(1),departure:(0,b.tl)(2)},!1,Q),r=s.data,i=s.handleChange,c=s.errors;return(0,a.useEffect)((function(){t(r,n)}),[r,n]),(0,j.jsxs)("div",{className:"admin__dates",children:[(0,j.jsxs)("div",{className:"admin__date-fields",children:[(0,j.jsx)(A.bJ,{name:"entry",label:"\u0417\u0430\u0435\u0437\u0434",value:r.entry,onChange:i,minDate:new Date("1955-01-01"),error:c.entry}),(0,j.jsx)(A.bJ,{name:"departure",label:"\u0412\u044b\u0435\u0437\u0434",value:r.departure,onChange:i,minDate:new Date("1955-01-01"),error:c.departure})]}),r.entry&&r.departure&&(0,j.jsxs)("h3",{className:"admin__booking-date",children:["\u0422\u043e\u0432\u0430\u0440 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0439 \u0434\u043b\u044f \u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u043d\u0430"," ",(0,b.q8)(r.entry)," -"," ",(0,b.q8)(r.departure)]})]})},z=["estates"],B=function(e){var n=e.estates,t=(0,h.Z)(e,z),a=(0,l.Js)((0,d.P9)()),s=(0,g.mN)(n,a,I.Zm),r=s.handleFilter,i=s.filteredItems;return(0,j.jsxs)("div",{className:"admin-status",children:[(0,j.jsx)(R,{onFilterQuery:r,estates:n}),(0,j.jsx)("div",{className:"estates-products__row list",children:(0,j.jsx)(O.s6,(0,m.Z)({estates:i||[]},t))})]})},M=t(2501),V=function(){var e=(0,l.Js)((0,o.$v)()),n=(0,l.Js)((0,o.f8)()),t=(0,l.Js)((0,d.PD)()),a=[{_id:0,name:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438",component:(0,j.jsx)(L,{})},{_id:1,name:"\u0411\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f",component:(0,j.jsx)(M.tv,{role:"ADMIN"})},{_id:2,name:"\u0422\u043e\u0432\u0430\u0440\u044b",component:(0,j.jsx)(B,{estates:e})},{_id:3,name:"\u0422\u0438\u043a\u0435\u0442\u044b",component:(0,j.jsx)(q,{})}];return n||t?null:(0,j.jsx)("div",{className:"admin__body",children:(0,j.jsx)(f,{options:a})})},H=function(){var e=(0,s.TH)().pathname;return(0,a.useEffect)((function(){window.scrollTo(0,0)}),[e]),(0,j.jsx)(c.Z,{hasTicketForm:!1,children:(0,j.jsxs)(i.Z,{className:"admin-page",children:[(0,j.jsx)(r.ZP,{}),(0,j.jsx)(V,{})]})})}}}]);
//# sourceMappingURL=529.1db5f3bd.chunk.js.map